(this["webpackJsonpupstac-ui"]=this["webpackJsonpupstac-ui"]||[]).push([[0],{366:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJcAAACXCAMAAAAvQTlLAAAAkFBMVEXuKj7////sFjL1hIn97u7vTln/+vvtFjDuHTXuO0n84N/0dXnzhY3///3wUVz//Pz2m5ztDSzuABf5w8fuJDr6wMHtAB7tACb3srX2n6L72dj6zc73l5r85ebxYWvtAA/ya3P0jJLxWGP3pqvyfITvSVP1kZL4ub386eT3xsTwMkb3rK7zbnzsAAD0pKPwXWGRJZLQAAAEzElEQVR4nO2YbXuiOhCGAwIJKmJqJAi+AIqu2N3+/393kkxCsbu9qtbr7H6Y+4MGTCYPM5NJkBAEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAE+T8RglFKmRCPGxCPD/4MytrtYT2vX5tOPmRcxGEbhmH3VFVsNyoDzxAVeyIfMEHXgebAniiLVxulKEkSK62m97uMr8zYqf88WXJqBfXk2aO6Rs/TxY8fVHmJl9O/rou1iRLiJUNZnre9N0+eoUtQzvsUYqWVU4zieJtHcDF+GSj3e++pWqKGXmtWt9Qdepsu8aKBhcVNWxCRwT0pRvP1gWRGmdhaWXstlWVwmUQzZm1QuT2OQArdxZN6Pq8r8tJL47Kq53WzkzfpErMgUpz01Oykm0HIwo1u5PKkfZKkZaeNyyWEruQwMtuDzKPPJp7qno5O6ip4U48lppvUhDtNywpcKMQa6ss4nN+mK9W9lnpmZmZOZ35oTJQLl0fBTMneQeDSifWAaMeFYrz2/QnMaD5/7AjpB2rWJhZ9EnjB+W5d+oE9FRjQ5SV9ikecCAIZv+muSpbeUNgEPJmYT56V14tDV1Dj7MTZTO72VzLUNVh3F+kmLyDPmcws0upyvISwasv9fmMUlJQwm4yDbo/rSpLl4TU3P3ubmI/AbGkqKZssHJfOxjEygR7/vJirXFKa/TBNtQaXIKY4VL+Cb+pKvPlPynY1POdE1qDrbHTxef/gm9jqykf6KpSr83K5PL+pA4eEXo0fm+1LjaV+NouS7/lrE+tMooWxXUvrL4gjX/dBGTtdaxlXDdH5RqWI23Y2a21J4DPTOTI1mObfzK+FWeEZLKRLVoGScWZ1eR91zVUemTWRveVF5DJTMeVb0wy0aO3q+3V5Q12mUGWwrE+SwExBq437R3VUiT7osoWNQ072q8/qUgEwHej6u/5yurSZnNv65dXGjb4q8MUfdUE910syCFLTcroCM5Ie78j7s3aCOF/5q4BpSqNr5cuTdRiBwsoPH+NodIl2Y67yNo4JRHvKm4Grb9sfRZvCo+jtI7ryV7qlavudwbo+MNG4hGpeOOVy+lt+ga7KGCy40pBdrL9aMFLr0k/Ht8SRUAjPSu2+JoyDOhE0grRQgnTTFSEvKlf1fuN9omsCyyPmPudQ/KaUwOKJKlU8YJYvde1snQvGKaTpsN4HrqFqtvKnLbdwK7E7z5/95RXHEWhX/qIq12FcME7sMfwrXfLi9STD/Lo6Mjc6p/zt8L7T90l+uQ3T6CL8w852w/krDpyZqNCWUqfL1gETZTif0bYYmg7yP+iyWwGILlwcWfNurEhv0aWGuEhuzTxpY+NYVs41/bsLI9P3B1/Gh2td9rAqc/e6tB71w303i7efpFc2PxcmVueiWKwYreqpohNWl+xWi6JcrDr+3pln1a/TolycjnHGQt1/QoT5njbuaCqbXBvcx1mjf6gbc+jk9aksyryR4Wik7s6+fsMTnHUd05XCVy/4PnG6mKCsUwYFGdpg+hgt4NhPme6vXgP0QDE0qDykx1H6/gPlpBPU3vQfeFd3up7+H8I3QV338c/qmpliUzzzH5en0FWK1+Zvy/gd/Yce+9fCiCAIgiAIgiAIgiAIgiAIgiAIgiAIgiAIgiDv/AdgtVgZLqcMCQAAAABJRU5ErkJggg=="},399:function(e,t,a){e.exports=a(549)},404:function(e,t,a){},405:function(e,t,a){},429:function(e,t,a){},549:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),l=a.n(o),i=(a(404),a(405),a(575)),c=a(316),u=a(577),s=a(317),m=a(359),d=a(579),p=a(318),f=a(51),b=a(580),E=a(597),g=a(320),v=a(249),h=a(552),O=a(319),y=a(315),j=a(321),C=a(322),S=a(323),T=a(581),N=a(324),R=a(98),w=a(86),x=a.n(w),A=a(54),D=a(25),k=(a(313),a(20)),P=a(366),I=a.n(P),W=window&&window.location&&window.location.hostname;["ec2-52-73-149-55.compute-1.amazonaws.com","52.73.149.55"].includes(W),console.log("REACT_APP_DOCSVC_HOST"+Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_DOCSVC_HOST),console.log("REACT_APP_REGSVC_HOST"+Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_REGSVC_HOST),console.log("REACT_APP_MASTERSVC_HOST"+Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MASTERSVC_HOST);var U=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_DOCSVC_HOST,L=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_REGSVC_HOST,q={baseUrl:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MASTERSVC_HOST,DOCUMENT_UPLOAD_URL:"http://"+U+":8082/documents/upload/",REGISTER_URL:"http://"+L+":8090/auth/register",DOCTOR_REGISTER_URL:"http://"+L+":8090/auth/doctor/register",TESTER_REGISTER_URL:"http://"+L+":8090/auth/tester/register",DOWNLOAD_BASE_URL:"http://"+U+":8082/documents/download/"},_=a(39),F=a(598),B=new F.a,H=function(){return B.next(!0)},M=function(){return B.next(!1)},V=function(){return B.asObservable()},G=new F.a,K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Information";console.log("original  appNotification showSuccess called"),G.next({title:t,message:e,variant:"success"})},Q=function(e){console.log("original  appNotification showError called"),G.next({title:"Error ",message:e,variant:"error"})},z=function(){return G.asObservable()};function J(e){return new _.a((function(t){H(),console.log("going  for",e.url),x()(e).then((function(a){M(),console.log("received for",e.url),t.next(a.data),t.complete()})).catch((function(a){console.log("error for",e.url),M(),a&&a.response&&a.response.data&&a.response.data.message?t.error(a.response.data.message):t.error("Technical error , please try again")}))}))}x.a.interceptors.request.use((function(e){return console.log("".concat(e.method," ").concat(e.url)),e}));var Y={setToken:function(e){e?(console.log("setting token",e),x.a.defaults.headers.common.Authorization="Bearer "+e):x.a.defaults.headers.common.Authorization=null},delete:function(e){return J({method:"delete",url:e})},put:function(e,t){return J({method:"put",url:e,data:t})},get:function(e){return J({method:"get",url:e})},post:function(e,t){return J({method:"post",url:e,data:t})},uploadFileToServer:function(e,t){return J({method:"post",headers:{"Content-Type":"multipart/form-data"},url:e,data:t})},downloadFileFromServer:function(e,t){H(),x()({url:e,method:"GET",responseType:"blob"}).then((function(e){M(),console.log(e.headers);var a=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=a,n.setAttribute("download",t),n.click(),window.URL.revokeObjectURL(a)})).catch((function(t){M(),Q("Unable to download file from "+e)}))}},X=a(595),Z=a(368),$=a(80);function ee(e,t){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0;return t.hasOwnProperty(n.type)?t[n.type](a,n):a}}var te,ae=a(157),ne="auth/login",re=function(){return oe({role:"ANONYMOUS"})},oe=function(e){var t="APPROVED"===e.status,a=e.role;return{isUser:"USER"===a,isDoctor:"DOCTOR"===a,isAuthority:"GOVERNMENT_AUTHORITY"===a,isTester:"TESTER"===a,isApproved:t}},le=ee({isLoggedIn:!1,token:null,user:null,roles:re()},(te={},Object($.a)(te,ne,(function(e,t){var a,n={};if(null===t||void 0===t||null===(a=t.payload)||void 0===a?void 0:a.user){var r=oe(t.payload.user);n={isLoggedIn:!0,token:t.payload.token,user:t.payload.user,roles:r}}return Object(k.a)(Object(k.a)({},e),n)})),Object($.a)(te,ae.a,(function(e,t){var a,n;if(null===t||void 0===t||null===(a=t.payload)||void 0===a||null===(n=a.auth)||void 0===n?void 0:n.user){var r=t.payload.auth,o=r.user,l=r.token;pe(l);var i=oe(o);return Object(k.a)(Object(k.a)({},e),{},{isLoggedIn:!0,token:l,user:o,roles:i})}return Object(k.a)({},e)})),Object($.a)(te,"auth/logout",(function(e,t){return Object(k.a)(Object(k.a)({},e),{},{isLoggedIn:!1,token:null,user:null,roles:re()})})),te));function ie(e){return{id:e.id,userName:e.userName,age:e.age,gender:e.gender,address:e.address,firstName:e.firstName,email:e.email,lastName:e.lastName,phoneNumber:e.phoneNumber,pinCode:e.pinCode,created:new Date(e.created),updated:new Date(e.updated),role:e.roles[0].name}}var ce=q.DOCUMENT_UPLOAD_URL,ue=function(e){return fe(),me(e).pipe(Object(X.a)((function(e){return de(e)})))},se=function(e,t){var a=ce+e,n=new FormData;return n.append("file",t),Y.uploadFileToServer(a,n)},me=function(e){var t=q.baseUrl+"/auth/login";return Y.post(t,e).pipe(Object(Z.a)((function(e){return e.token})))},de=function(e){var t=q.baseUrl+"/users/details";return pe(e),Y.get(t).pipe(Object(Z.a)((function(t){var a={};return a.token=e,a.user=ie(t),a})))},pe=function(e){Y.setToken(e)},fe=function(){Y.setToken(null)},be=Object(y.a)((function(e){return{"@global":{body:{backgroundColor:"#e6e6e6"},ul:{margin:0,padding:0,listStyle:"none"}},appBar:{borderBottom:"3px solid ".concat(e.palette.divider)},toolbar:{flexWrap:"wrap"},toolbarTitle:{flexGrow:1},link:{margin:e.spacing(1,1.5)},activeLink:{margin:e.spacing(1,1.5),backgroundColor:"#3f51b5",color:"#ffffff","&:hover":{color:"#3f51b5",backgroundColor:"#ffffff",border:"1px solid #3f51b5"}}}}));var Ee=function(e){var t=Object(ge.b)(),a=Object(D.g)(),n=Object(D.h)(),o=be(),l=Object(ge.c)((function(e){return e.auth})),i=(l.user,l.token,l.isLoggedIn),m=l.roles,d=m.isUser,p=m.isDoctor,b=m.isAuthority,E=m.isTester,g=(m.isApproved,[{url:"/dashboard",label:"Dashboard",rule:b},{url:"/profile",label:"Profile",rule:i},{url:"/request-test",label:"Request Test",rule:d},{url:"/user-history",label:"Request History",rule:d},{url:"/lab-history",label:"Request History",rule:E},{url:"/consultation-history",label:"Request History",rule:p},{url:"/pending-lab-tests",label:"Tests Requested",rule:E},{url:"/pending-consultations",label:"Consultations Requested",rule:p},{url:"/update-thresholds",label:"Settings",rule:b},{url:"/pending-user-approvals",label:"Approve Users",rule:b},{url:"/view-all-requests",label:"All Requests",rule:b}]),v=n.pathname,h=g.filter((function(e){return e.rule})).map((function(e){var t=e.url==v?o.activeLink:o.link;return Object(k.a)(Object(k.a)({},e),{},{menuClassName:t})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{position:"static",color:"default",elevation:0,className:o.appBar},r.a.createElement(s.a,{className:o.toolbar},r.a.createElement("img",{src:I.a,height:"30",alt:"Upgrad"}),r.a.createElement(f.a,{variant:"h6",color:"inherit",noWrap:!0,className:o.toolbarTitle},"\xa0",r.a.createElement(c.a,{component:A.b,variant:"text",to:"/",className:o.link},"Upgrad Labs")),r.a.createElement("nav",null,h.map((function(e,t){return r.a.createElement(c.a,{key:t,component:A.b,variant:"text",color:"primary",to:e.url,className:e.menuClassName},e.label)}))),i?r.a.createElement(c.a,{id:"btnlogout",onClick:function(){!function(e,t){e({type:"auth/logout"}),pe(null),localStorage.clear(),t.push("/")}(t,a)},color:"secondary",variant:"outlined",className:o.link},"Logout"):r.a.createElement("div",null,r.a.createElement(c.a,{component:A.b,to:"/login",color:"secondary",variant:"outlined",className:o.link},"Login"),r.a.createElement(c.a,{component:A.b,to:"/register",color:"primary",variant:"outlined",className:o.link},"Register for test")))))},ge=a(22),ve=(a(429),a(380)),he=function(e){var t=e.component,a=e.auth,n=Object(ve.a)(e,["component","auth"]);return r.a.createElement(D.b,Object.assign({},n,{render:function(e){return!0===a?r.a.createElement(t,e):r.a.createElement(D.a,{to:"/forbidden"})}}))},Oe=a(8),ye=q.baseUrl+"/api/labrequests",je=q.baseUrl+"/api/labrequests/to-be-tested",Ce=q.baseUrl+"/api/labrequests/assign/",Se=q.baseUrl+"/api/labrequests/update/",Te=function(){return Y.get(ye)},Ne=function(e){var t=Ce+e;return Y.put(t,{})},Re=q.baseUrl+"/api/testrequests",we=Re+"/flow/",xe=Re+"/",Ae=function(){return Y.get(Re)},De=function(e){return Y.get(xe+e)},ke=a(250),Pe=a(255),Ie=a(553),We=a(582),Ue=a(584),Le=a(583),qe=a(599),_e=a(248),Fe=a(117),Be=a.n(Fe),He=a(118),Me=a.n(He),Ve=a(119),Ge=a.n(Ve),Ke=a(585),Qe=a(111);function ze(e){Q(e)}function Je(e){return e||""}function Ye(e,t){var a,n=Je(e)+" "+Je(t),r=n.split(" ");return 0==(a=(r[0].charAt(0)+""+r[1].charAt(0)).toUpperCase()).trim().length&&(a="UN"),{initials:a,name:n=n.trim()}}var Xe=Object(y.a)((function(e){return{root:{width:"100%"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},avatar:{backgroundColor:Qe.a[500]},w100:{width:"100%"}}}));var Ze=function(e){var t=e.testRequest,a=Xe();if(!t)return r.a.createElement(n.Fragment,null);var o=t.name,l=t.address,i=t.age,c=t.email,u=t.created,s=t.phoneNumber,m=(t.status,t.gender,t.createdBy.userName,Ye(o,"").initials);return r.a.createElement(We.a,{className:a.root},r.a.createElement(Le.a,{avatar:r.a.createElement(qe.a,{"aria-label":"recipe",className:a.avatar},m),action:r.a.createElement(_e.a,{"aria-label":"settings"},r.a.createElement(Be.a,null)),title:o,subheader:"Created on "+new Date(u).toDateString()}),r.a.createElement(Ue.a,null,r.a.createElement(Ue.a,null,r.a.createElement(f.a,{variant:"h5",component:"h2"},i," years of age"),r.a.createElement(f.a,{variant:"body2",component:"p"},l),r.a.createElement(f.a,{className:a.pos,color:"textSecondary"},s))),r.a.createElement(Ke.a,{disableSpacing:!0},r.a.createElement(_e.a,{title:c,"aria-label":"Send Email",href:"mailto:"+c},r.a.createElement(Me.a,null)),r.a.createElement(_e.a,{title:s,"aria-label":"call",href:"tel:"+s},r.a.createElement(Ge.a,null))))},$e=Object(y.a)((function(e){return{paperWhite:{margin:"0 auto",padding:"20px 20px 20px 20px",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"white"},mt40:{marginTop:40},w100:{width:"100%"},select100Form:{width:"100%"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},formContainer:{padding:"50 50 50 50"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var et=function(){var e=$e(),t=Object(D.g)(),a=(Object(D.h)(),Object(D.i)("/update-lab-report/:id").params),o=(Object(ge.b)(),a.id),l=Object(n.useState)(null),u=Object(Oe.a)(l,2),s=u[0],m=u[1],b=Object(n.useState)("102"),E=Object(Oe.a)(b,2),g=E[0],h=E[1],O=Object(n.useState)("Should be left"),y=Object(Oe.a)(O,2),j=y[0],C=y[1],S=Object(n.useState)("97"),T=Object(Oe.a)(S,2),N=T[0],R=T[1],w=Object(n.useState)("95"),x=Object(Oe.a)(w,2),A=x[0],k=x[1],P=Object(n.useState)("98"),I=Object(Oe.a)(P,2),W=I[0],U=I[1],L=Object(n.useState)("NEGATIVE"),q=Object(Oe.a)(L,2),_=q[0],F=q[1];return Object(n.useEffect)((function(){De(o).subscribe((function(e){m(e),console.log(e)}),ze)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{component:"main",className:e.mt40},r.a.createElement(i.a,{container:!0,spacing:2,className:e.paperWhite},r.a.createElement(f.a,{component:"h1",variant:"h5"},"Update Lab Result",r.a.createElement("hr",null)),r.a.createElement(i.a,{container:!0,spacing:2,className:e.formContainer},r.a.createElement(i.a,{item:!0,xs:6},r.a.createElement(Ze,{testRequest:s})),r.a.createElement(i.a,{item:!0,xs:6},r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault(),function(e,t){var a=Se+e;return Y.put(a,t)}(o,{bloodPressure:g,comments:j,heartBeat:N,oxygenLevel:A,result:_,temperature:W}).subscribe((function(e){K("Succesfully Updated Lab Result"),t.push("/lab-history")}),ze)},noValidate:!0},r.a.createElement(i.a,{container:!0,spacing:2},r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(p.a,{variant:"outlined",value:g,onInput:function(e){return h(e.target.value)},required:!0,className:e.w100,fullWidth:!0,id:"bloodPressure",label:"Blood Pressure",name:"bloodPressure",autoComplete:"bloodPressure"})),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(p.a,{variant:"outlined",value:N,onInput:function(e){return R(e.target.value)},required:!0,fullWidth:!0,id:"heartBeat",label:"Heart Beat",name:"heartBeat",autoComplete:"heartBeat"})),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(p.a,{variant:"outlined",value:A,onInput:function(e){return k(e.target.value)},required:!0,fullWidth:!0,id:"oxygenLevel",label:"Oxygen Level",name:"oxygenLevel",autoComplete:"oxygenLevel"})),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(p.a,{variant:"outlined",value:W,onInput:function(e){return U(e.target.value)},required:!0,fullWidth:!0,id:"temperature",label:"Body Temperature",name:"temperature",autoComplete:"temperature"})),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(v.a,{variant:"outlined",className:e.select100Form},r.a.createElement(ke.a,{htmlFor:"outlined-result-native-simple"},"Test Result"),r.a.createElement(Pe.a,{native:!0,value:_,onChange:function(e){return F(e.target.value)},label:"Test Result",className:e.select100,inputProps:{name:"result",id:"selectLabResult"}},r.a.createElement("option",{value:"POSITIVE"},"Positive"),r.a.createElement("option",{value:"NEGATIVE"},"Negative")))),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(Ie.a,{className:e.w100,"aria-label":"comments",rowsMin:3,value:j,name:"comments",label:"comments",id:"comments",onInput:function(e){return C(e.target.value)},placeholder:"Comments"}))),r.a.createElement(c.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Update Lab Result")))))))},tt=a(21),at=a.n(tt),nt=a(47),rt=a(69),ot=a.n(rt),lt=q.baseUrl+"/api/consultations",it=q.baseUrl+"/api/consultations/in-queue",ct=q.baseUrl+"/api/consultations/assign/",ut=q.baseUrl+"/api/consultations/update/",st=function(){return Y.get(lt)},mt=function(e){return Y.put(ct+e,{})},dt=new F.a,pt=function(e){return console.log("actual confirm"),new Promise((function(t,a){dt.next({message:e,accept:t,reject:a})}))},ft=function(){return dt.asObservable()},bt=a(208),Et=a.n(bt),gt=Object(y.a)((function(e){return{"@global":{body:{backgroundColor:"#e6e6e6"},footer:{marginTop:"calc(5% + 60px)",bottom:0}},footer:{marginTop:"calc(5% + 60px)",bottom:0},heroContent:{padding:e.spacing(2,0,2)},heroContent1:{padding:e.spacing(1,0,1)},heroContent3:{padding:e.spacing(3,0,6)},paperWhite:{margin:"0 auto",padding:"20px 20px 20px 20px",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"white"},paper:{marginTop:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center"},mt40:{marginTop:40},w100:{width:"100%"},marginOneSpace:{margin:e.spacing(1)},formContainer:{padding:"50 50 50 50"},formFullWidth:{width:"100%",marginTop:e.spacing(3)},formFullWidthOneSpace:{width:"100%",marginTop:e.spacing(1)},submitWithSmallMargin:{margin:e.spacing(3,0,2)}}}));var vt=function(){var e=gt(),t=Object(D.g)(),a=Object(n.useState)([]),o=Object(Oe.a)(a,2),l=o[0],u=o[1],s=Object(n.useState)([]),m=Object(Oe.a)(s,2),p=m[0],f=m[1],b=[{name:"Request ID",options:{filter:!0}},{name:"Name",options:{filter:!0}},{name:"Age",options:{filter:!0}},{name:"Status",options:{filter:!0}},{name:"Actions",options:{filter:!1,sort:!1,empty:!0,customBodyRenderLite:function(t){return r.a.createElement(c.a,{variant:"contained",color:"secondary",className:e.button,startIcon:r.a.createElement(Et.a,null),onClick:function(){!function(e){E.apply(this,arguments)}(t)}},"Assign to Me")}}}];function E(){return(E=Object(nt.a)(at.a.mark((function e(a){var n;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p[a],e.next=3,pt("Do you want to Assign yourself for Consultaion "+n.name+"?");case 3:mt(n.requestId).subscribe((function(e){K("Request Assigned to you, Please update your diagnosis details."),t.push("/update-consultation/"+n.requestId)}),ze);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){Y.get(it).subscribe((function(e){f(e);var t=e.map((function(e){var t=e.labResult.result;return[e.requestId,e.name,e.age,t]}));[].push(t),u(t)}),ze)}return Object(n.useEffect)((function(){g()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{maxWidth:"md",component:"main",className:e.heroContent},r.a.createElement("h1",null,"Pending Consultations"),r.a.createElement("hr",null)),r.a.createElement(d.a,{component:"main",maxWidth:"md"},r.a.createElement(i.a,{container:!0},r.a.createElement(i.a,{item:!0,md:12},r.a.createElement(ot.a,{title:"Pending Consultations",data:l,columns:b,options:{filter:!0,filterType:"dropdown",responsive:"standard",selectableRows:"none"}})))))},ht=a(113),Ot=a(591),yt=Object(y.a)((function(e){return{root:{width:"100%"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},avatar:{backgroundColor:ht.a[500]},w100:{width:"100%"},listroot:{width:"100%",backgroundColor:e.palette.background.paper},listLabel:{fontWeight:"bold"},listValue:{fontWeight:"normal"}}}));var jt=function(e){var t=e.labResult,a=yt();if(!t)return r.a.createElement(n.Fragment,null);var o=t.bloodPressure,l=(t.comments,t.heartBeat),i=t.oxygenLevel,c=t.result,u=t.temperature,s=t.tester,m=t.updatedOn,d=s.firstName,p=s.lastName,f=s.email,b=s.phoneNumber,E=Ye(d,p),g=E.initials,v=E.name;return r.a.createElement(We.a,{className:a.root},r.a.createElement(Le.a,{avatar:r.a.createElement(qe.a,{"aria-label":"recipe",className:a.avatar},g),action:r.a.createElement(_e.a,{"aria-label":"settings"},r.a.createElement(Be.a,null)),title:"Test Results",subheader:"Updated on "+new Date(m).toDateString()+" by "+v}),r.a.createElement(Ue.a,null,r.a.createElement(Ue.a,null,r.a.createElement("small",null,"Blood Pressure : ",o,r.a.createElement(Ot.a,null),"Heart Beat : ",l,r.a.createElement(Ot.a,null),"Oxygen Level : ",i,r.a.createElement(Ot.a,null),"Temperature : ",u,r.a.createElement(Ot.a,null),"Test Result : ",c))),r.a.createElement(Ke.a,{disableSpacing:!0},r.a.createElement(_e.a,{title:f,"aria-label":"Send Email",href:"mailto:"+f},r.a.createElement(Me.a,null)),r.a.createElement(_e.a,{title:b,"aria-label":"call",href:"tel:"+b},r.a.createElement(Ge.a,null))))},Ct=Object(y.a)((function(e){return{paperWhite:{margin:"0 auto",padding:"20px 20px 20px 20px",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"white"},mt40:{marginTop:40},w100:{width:"100%"},select100Form:{width:"100%"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},formContainer:{padding:"50 50 50 50"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var St=function(){var e=Ct(),t=Object(D.g)(),a=Object(D.i)("/update-consultation/:id").params.id,o=Object(n.useState)(null),l=Object(Oe.a)(o,2),u=l[0],s=l[1],m=Object(n.useState)(null),p=Object(Oe.a)(m,2),b=p[0],E=p[1],g=Object(n.useState)("NO_ISSUES"),h=Object(Oe.a)(g,2),O=h[0],y=h[1],j=Object(n.useState)(""),C=Object(Oe.a)(j,2),S=C[0],T=C[1];return Object(n.useEffect)((function(){De(a).subscribe((function(e){s(e),E(e.labResult)}),ze)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{component:"main",className:e.mt40},r.a.createElement(i.a,{container:!0,spacing:2,className:e.paperWhite},r.a.createElement(f.a,{component:"h1",variant:"h5"},"Provide Prescription",r.a.createElement("hr",null)),r.a.createElement(i.a,{container:!0,spacing:2,className:e.formContainer},r.a.createElement(i.a,{item:!0,xs:6},r.a.createElement(Ze,{testRequest:u}),r.a.createElement("br",null),r.a.createElement(jt,{labResult:b})),r.a.createElement(i.a,{item:!0,xs:6},r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault();var n,r,o={suggestion:O,comments:S};console.log("payload",o),(n=a,r=o,Y.put(ut+n,r)).subscribe((function(e){K("Succesfully Updated Consultation"),t.push("/consultation-history")}),ze)},noValidate:!0},r.a.createElement(i.a,{container:!0,spacing:2},r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(v.a,{variant:"outlined",className:e.select100Form},r.a.createElement(ke.a,{htmlFor:"outlined-result-native-simple"},"Suggestion"),r.a.createElement(Pe.a,{native:!0,value:O,onChange:function(e){return y(e.target.value)},label:"Suggestion",className:e.select100,inputProps:{name:"suggestion",id:"suggestionSelect"}},r.a.createElement("option",{value:"NO_ISSUES"},"No Issues"),r.a.createElement("option",{value:"HOME_QUARANTINE"},"Quarantine in Home"),r.a.createElement("option",{value:"ADMIT"},"Admit in hospital")))),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(Ie.a,{className:e.w100,"aria-label":"comments",rowsMin:3,value:S,name:"comments",label:"comments",id:"comments",onInput:function(e){return T(e.target.value)},placeholder:"Comments"}))),r.a.createElement(c.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Update Consultation")))))))},Tt=a(328),Nt=a(4),Rt=Object(y.a)((function(e){return{root:{width:"100%"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},avatar:{backgroundColor:ht.a[500]},w100:{width:"100%"},listroot:{width:"100%",backgroundColor:e.palette.background.paper},listLabel:{fontWeight:"bold"},listValue:{fontWeight:"normal"}}}));var wt=function(e){var t=e.consultation,a=Rt();if(!t)return r.a.createElement(n.Fragment,null);var o=t.comments,l=t.suggestion,i=t.doctor,c=t.updatedOn,u=i.firstName,s=i.lastName,m=i.email,d=i.phoneNumber,p=Ye(u,s),f=p.initials,b=p.name;return r.a.createElement(We.a,{className:a.root},r.a.createElement(Le.a,{avatar:r.a.createElement(qe.a,{"aria-label":"recipe",className:a.avatar},f),action:r.a.createElement(_e.a,{"aria-label":"settings"},r.a.createElement(Be.a,null)),title:"Diagnosis",subheader:"Updated on "+new Date(c).toDateString()+" by "+b}),r.a.createElement(Ue.a,null,r.a.createElement(Ue.a,null,r.a.createElement("small",null,"Suggestion : ",l,r.a.createElement(Ot.a,null),"Comments : ",o))),r.a.createElement(Ke.a,{disableSpacing:!0},r.a.createElement(_e.a,{title:m,"aria-label":"Send Email",href:"mailto:"+m},r.a.createElement(Me.a,null)),r.a.createElement(_e.a,{title:d,"aria-label":"call",href:"tel:"+d},r.a.createElement(Ge.a,null))))},xt=Object(Nt.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(S.a),At=Object(Nt.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(N.a),Dt=Object(y.a)((function(e){return{heroContent:{padding:e.spacing(3,0,2)},table:{minWidth:700},dateColumn:{width:130}}}));var kt=function(e){var t=Dt(),a=e.testRequest,o=a.requestId,l=Object(n.useState)([]),c=Object(Oe.a)(l,2),u=c[0],s=c[1],m=null,p=null;function f(){var e;(e=o,Y.get(we+e)).subscribe((function(e){console.log(e),s(e)}),ze)}return"INITIATED"!==a.status&&"LAB_TEST_IN_PROGRESS"!==a.status&&(m=a.labResult),"COMPLETED"===a.status&&(p=a.consultation),Object(n.useEffect)((function(){f()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{container:!0,spacing:2,className:t.formContainer},r.a.createElement(i.a,{item:!0,xs:6},r.a.createElement(jt,{labResult:m})),r.a.createElement(i.a,{item:!0,xs:6},r.a.createElement(wt,{consultation:p}))),r.a.createElement(d.a,{maxWidth:"md",component:"main",className:t.heroContent},r.a.createElement("h4",null,"TestRequest Flow"),r.a.createElement("hr",null)),r.a.createElement(d.a,{maxWidth:"md"},r.a.createElement(i.a,{md:12,item:!0},r.a.createElement(j.a,{className:t.table,"aria-label":"Data Flow"},r.a.createElement(Tt.a,null,r.a.createElement(N.a,null,r.a.createElement(xt,null,"Id"),r.a.createElement(xt,{className:t.dateColumn},"Date"),r.a.createElement(xt,{align:"right"},"From Status"),r.a.createElement(xt,{align:"right"},"To Status"),r.a.createElement(xt,{align:"right"},"Done By"))),r.a.createElement(C.a,null,u.map((function(e){return r.a.createElement(At,{key:e.id},r.a.createElement(xt,{component:"th",scope:"row"},e.id),r.a.createElement(xt,{className:t.dateColumn,align:"right"},e.happenedOn),r.a.createElement(xt,{align:"right"},e.fromStatus),r.a.createElement(xt,{align:"right"},e.toStatus),r.a.createElement(xt,{align:"right"},e.changedBy.userName))})))))))},Pt=function(e){var t=function(t){return e[t]};return{filter:!0,filterType:"dropdown",responsive:"standard",selectableRows:"none",expandableRows:!0,expandableRowsHeader:!1,expandableRowsOnClick:!1,isRowExpandable:function(e,a){return"INITIATED"!==t(e).status},renderExpandableRow:function(e,a){var n=a.dataIndex,o=t(n),l=e.length+1;return r.a.createElement(N.a,null,r.a.createElement(S.a,{colSpan:l},r.a.createElement(kt,{testRequest:o})))}}};var It=function(e){var t=gt(),a=Object(n.useState)([]),o=Object(Oe.a)(a,2),l=o[0],c=o[1],u=Object(n.useState)([]),s=Object(Oe.a)(u,2),m=s[0],p=s[1],f=[{name:"Test Request ID",options:{filter:!0}},{name:"Name",options:{filter:!0}},{name:"Age",options:{filter:!0}},{name:"Status",options:{filter:!0}}],b=e.actionColumns;b&&b.length>0&&(f=f.concat(b));var E=Pt(m);return Object(n.useEffect)((function(){!function(){var t=e.getMyHistory,a=e.onDataLoaded;t().subscribe((function(e){p(e);var t=e.map((function(e){return[e.requestId,e.name,e.age,e.status]}));[].push(t),c(t),a&&a(e)}),(function(e){Q(e)}))}()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{maxWidth:"md",component:"main",className:t.heroContent},r.a.createElement("h1",null,"Request History"),r.a.createElement("hr",null)),r.a.createElement(d.a,{component:"main",maxWidth:"md"},r.a.createElement(i.a,{container:!0},r.a.createElement(i.a,{item:!0,md:12},r.a.createElement(ot.a,{title:"Request History",data:l,columns:f,options:E})))))};var Wt=function(){var e=Object(n.useState)([]),t=Object(Oe.a)(e,2),a=t[0],o=t[1],l=[{name:"Result",options:{filter:!1,sort:!1,empty:!0,customBodyRenderLite:function(e){var t=function(e){var t=a[e];return t&&t.labResult&&t.labResult.result?t.labResult.result:""}(e);return r.a.createElement("div",{className:t},t)}}},{name:"Doctor Suggestion",options:{filter:!1,sort:!1,empty:!0,customBodyRenderLite:function(e){var t=function(e){var t=a[e];return t&&t.consultation&&t.consultation.suggestion?t.consultation.suggestion:""}(e);return r.a.createElement("div",{className:t},t)}}}];return r.a.createElement(It,{onDataLoaded:function(e){o(e)},actionColumns:l,getMyHistory:Ae})};function Ut(e){return e.map((function(e){return function(e){var t=e.contentType,a=e.fileName,n=e.id,r=e.url,o=ie(e.user),l=q.DOWNLOAD_BASE_URL+r;return Object(k.a)(Object(k.a)({},o),{},{contentType:t,fileName:a,documentId:n,documentUrl:l})}(e)}))}function Lt(e){var t=e.pinCode,a=e.labResult,n=e.consultation,r=n.suggestion,o=a.result;return{pinCode:t,labResult:a,consultation:n,positive:"POSITIVE"==o?1:0,negative:"POSITIVE"==o?0:1,homeQuarantine:"HOME_QUARANTINE"==r?1:0,admitted:"ADMIT"==r?1:0,tested:1}}function qt(e,t){var a={};return e.filter((function(e){return"COMPLETED"===e.status})).forEach((function(e){var t=e.pinCode;a.hasOwnProperty(t)?a[t]=function(e,t){var a=Lt(t),n=a.positive,r=a.negative,o=a.homeQuarantine,l=a.admitted,i=a.tested,c=e.positiveCount,u=e.homeQuarantineCount,s=e.admittedCount;return{positiveCount:c+n,negativeCount:e.negativeCount+r,homeQuarantineCount:u+o,admittedCount:s+l,testedCount:e.testedCount+i}}(a[t],e):a[t]=function(e){var t=Lt(e);return{positiveCount:t.positive,negativeCount:t.negative,homeQuarantineCount:t.homeQuarantine,admittedCount:t.admitted,testedCount:t.tested,zoneType:""}}(e)})),function(e,t){var a={RED:0,YELLOW:0,GREEN:0};return e.forEach((function(e){var t=e.thresholdType,n=e.maxLimit;a[t]=n})),Object.keys(t).forEach((function(e){var n=t[e].positiveCount;n>=a.RED?t[e].zoneType="RED":n>=a.GREEN&&n<=a.YELLOW?t[e].zoneType="YELLOW":t[e].zoneType="GREEN"})),t}(t,a)}var _t=q.baseUrl+"/api/government/all-thresholds",Ft=q.baseUrl+"/api/government/all-requests",Bt=q.baseUrl+"/api/government/pending-approvals",Ht=q.baseUrl+"/api/government/update-thresholds",Mt=q.DOWNLOAD_BASE_URL,Vt=q.baseUrl+"/api/government/update-approval",Gt=function(){return Y.get(_t)},Kt=function(e){return Y.get(Ft).pipe(Object(Z.a)((function(t){return function(e,t){var a=qt(e,t);return e.map((function(e){var t=e.pinCode;return e.pinCodeInfo=a[t],e}))}(t,e)})))},Qt=function(e){return Y.get(Ft).pipe(Object(Z.a)((function(t){return function(e,t){var a=qt(e,t),n=[];return Object.keys(a).forEach((function(e){var t=a[e];n.push(Object(k.a)(Object(k.a)({},t),{},{pinCode:e}))})),n}(t,e)})))};function zt(e,t){var a={status:t,userId:e};return Y.put(Vt,a)}var Jt=function(e){return zt(e,"APPROVED")},Yt=function(e){return zt(e,"REJECTED")};var Xt=function(){var e=gt(),t=Object(n.useState)([]),a=Object(Oe.a)(t,2),o=a[0],l=a[1];return Object(n.useEffect)((function(){Gt().subscribe((function(e){l(e)}),ze)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{maxWidth:"md",component:"main",className:e.heroContent},r.a.createElement("h1",null,"Update Thresholds"),r.a.createElement("hr",null)),r.a.createElement(d.a,{maxWidth:"md"},r.a.createElement(i.a,{justify:"center",container:!0},r.a.createElement(i.a,{md:8,item:!0},r.a.createElement("form",{className:e.formFullWidth,onSubmit:function(e){var t;e.preventDefault(),(t=o,Y.post(Ht,t)).subscribe((function(e){K("Succesfully Updated Thresholds")}),ze)},noValidate:!0},r.a.createElement(i.a,{container:!0,spacing:2},o.map((function(e){return r.a.createElement(i.a,{item:!0,xs:12,key:e.thresholdType},r.a.createElement(p.a,{name:e.thresholdType,variant:"outlined",required:!0,fullWidth:!0,id:e.thresholdType,label:e.thresholdType,value:e.maxLimit,onInput:function(t){return function(e,t){var a=o.map((function(a){return a.thresholdType===e?{thresholdType:e,maxLimit:t}:a}));l(a)}(e.thresholdType,t.target.value)}}))}))),r.a.createElement(c.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submitWithSmallMargin},"Save Thresholds"))))))};var Zt=function(){var e=gt(),t=Object(n.useState)([]),a=Object(Oe.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)([]),u=Object(Oe.a)(c,2),s=u[0],m=u[1],p=Pt(s);function f(){Gt().pipe(Object(X.a)((function(e){return Kt(e)}))).subscribe((function(e){m(e);var t=e.map((function(e){var t=e.pinCodeInfo.zoneType;return[e.requestId,e.name,e.age,e.pinCode,t]}));[].push(t),l(t),m(e)}),ze)}return Object(n.useEffect)((function(){f()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{maxWidth:"md",component:"main",className:e.heroContent},r.a.createElement("h1",null,"Request History"),r.a.createElement("hr",null)),r.a.createElement(d.a,{component:"main",maxWidth:"md"},r.a.createElement(i.a,{container:!0},r.a.createElement(i.a,{item:!0,md:12},r.a.createElement(ot.a,{title:"Request History",data:o,columns:[{name:"Test Request ID",options:{filter:!0}},{name:"Name",options:{filter:!0}},{name:"Age",options:{filter:!0}},{name:"Pincode",options:{filter:!0}},{name:"Status",options:{filter:!0}}],options:p})))))},$t=a(120),ea=a(121),ta=a(123),aa=a(122),na=a(594),ra=a(596),oa=a(253),la=a.n(oa),ia=a(593),ca=function(e){Object(ta.a)(a,e);var t=Object(aa.a)(a);function a(e){var n;return Object($t.a)(this,a),(n=t.call(this,e)).state={show:!1,title:"",variant:"",message:""},n}return Object(ea.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.subscription=z().subscribe((function(t){e.onNotificationReceived(t)}))}},{key:"onNotificationReceived",value:function(e){console.log("showing"),this.setState({show:!0,title:e.title,variant:e.variant,message:e.message}),this.resetAfterTenSeconds()}},{key:"componentWillUnmount",value:function(){this.subscription.unsubscribe()}},{key:"reset",value:function(){this.setState({show:!1,title:"",variant:"",message:""})}},{key:"resetAfterTenSeconds",value:function(){var e=this;setTimeout((function(){e.reset()}),1e4)}},{key:"render",value:function(){var e=this,t=this.state,a=t.show,o=t.title,l=t.message,i=t.variant;return a?r.a.createElement(n.Fragment,null,r.a.createElement(ia.a,{open:a,autoHideDuration:26e3,onClose:function(){e.reset()}},r.a.createElement(ra.a,{onClose:function(){e.reset()},severity:i,action:r.a.createElement(_e.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){e.reset()}},r.a.createElement(la.a,{fontSize:"inherit"}))},r.a.createElement(na.a,null,o),l))):r.a.createElement(n.Fragment,null)}}]),a}(n.Component);function ua(e){var t=""+e;return 2==t.length?t:"0"+t}function sa(e){return e.getFullYear()+"-"+(ua(e.getMonth()+1)+"-")+ua(e.getDate())}var ma=Object(y.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var da=function(){var e=ma(),t=Object(D.g)(),a=Object(ge.b)(),o=r.a.useState(!1),l=Object(Oe.a)(o,2),u=(l[0],l[1],r.a.useState(!1)),s=Object(Oe.a)(u,2),b=(s[0],s[1],Object(n.useState)("user")),y=Object(Oe.a)(b,2),j=y[0],C=y[1],S=Object(n.useState)("user"),T=Object(Oe.a)(S,2),N=T[0],R=T[1],w=Object(n.useState)("uslast"),x=Object(Oe.a)(w,2),k=x[0],P=x[1],I=Object(n.useState)("user@upgrad.com"),W=Object(Oe.a)(I,2),U=W[0],L=W[1],_=Object(n.useState)("1981-11-21"),F=Object(Oe.a)(_,2),B=F[0],H=F[1],M=Object(n.useState)("password"),V=Object(Oe.a)(M,2),G=V[0],z=V[1],J=Object(n.useState)("password"),Z=Object(Oe.a)(J,2),$=Z[0],ee=Z[1],te=Object(n.useState)("some address ,some day"),ae=Object(Oe.a)(te,2),re=ae[0],oe=ae[1],le=Object(n.useState)("45787878"),ie=Object(Oe.a)(le,2),ce=ie[0],se=ie[1],me=Object(n.useState)("USER"),de=Object(Oe.a)(me,2),pe=de[0],fe=de[1],be=Object(n.useState)("45454545"),Ee=Object(Oe.a)(be,2),ve=Ee[0],he=Ee[1],ye=Object(n.useState)("MALE"),je=Object(Oe.a)(ye,2),Ce=je[0],Se=je[1],Te=Object(n.useState)(!1),Ne=Object(Oe.a)(Te,2),Re=Ne[0],we=Ne[1];function xe(e,t){e.subscribe((function(e){t(e)}),(function(e){Q(e)}))}function Ae(e){xe(function(e){var t=q.REGISTER_URL;return Y.post(t,e).pipe(Object(X.a)((function(t){var a={};return a.userName=e.userName,a.password=e.password,ue(a)})))}(e),(function(e){e.user,e.token;K("Succesfully Registered"),a({type:ne,payload:e}),t.push("/profile")}))}function De(e){xe(function(e){var t=q.DOCTOR_REGISTER_URL;return Y.post(t,e)}(e),(function(e){K("Succesfully Registered,Please upload Document to continue"),t.push("/upload-document/"+pe+"/"+e.id)}))}function Ie(e){xe(function(e){var t=q.TESTER_REGISTER_URL;return Y.post(t,e)}(e),(function(e){K("Succesfully Registered,Please upload Document to continue"),t.push("/upload-document/"+pe+"/"+e.id)}))}function We(e,t){e.target.checked&&fe(t)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:e.paper},r.a.createElement(f.a,{component:"h1",variant:"h5"},"Register to take Laboratory Tests.",r.a.createElement("hr",null)),r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault();var t={firstName:N,lastName:k,email:U,password:G,confirmPassword:$,dateOfBirth:sa(new Date(B)),address:re,pinCode:ce,userName:j,phoneNumber:ve,gender:Ce};if(Re)if($===G){var a,n={isUser:"USER"===(a=pe),isDoctor:"DOCTOR"===a,isTester:"TESTER"===a},r=n.isDoctor,o=n.isTester;n.isUser?Ae(t):r?De(t):o&&Ie(t)}else Q("Passwords Mismatch");else Q("Please agree the terms and conditions")},noValidate:!0},r.a.createElement(i.a,{container:!0,spacing:2},r.a.createElement(i.a,{item:!0,xs:12,sm:12},r.a.createElement(v.a,{component:"fieldset"},r.a.createElement(h.a,{component:"legend"},"Select Role to Register"),r.a.createElement(g.a,{row:!0,"aria-label":"userRole",name:"userRole",id:"userroleDetail",value:pe},r.a.createElement(O.a,{value:"USER",control:r.a.createElement(E.a,{onChange:function(e){return We(e,"USER")}}),label:"Patient"}),r.a.createElement(O.a,{value:"TESTER",control:r.a.createElement(E.a,{onChange:function(e){return We(e,"TESTER")}}),label:"Tester"}),r.a.createElement(O.a,{value:"DOCTOR",control:r.a.createElement(E.a,{onChange:function(e){return We(e,"DOCTOR")}}),label:"Doctor"})))),r.a.createElement(i.a,{item:!0,xs:12,sm:4},r.a.createElement(p.a,{name:"firstName",value:N,onInput:function(e){return R(e.target.value)},variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})),r.a.createElement(i.a,{item:!0,xs:12,sm:4},r.a.createElement(p.a,{variant:"outlined",value:k,onInput:function(e){return P(e.target.value)},required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})),r.a.createElement(i.a,{item:!0,xs:12,sm:4},r.a.createElement(v.a,{variant:"outlined",className:e.formControl},r.a.createElement(ke.a,{htmlFor:"outlined-gender-native-simple"},"Gender"),r.a.createElement(Pe.a,{native:!0,value:Ce,onChange:function(e){Se(e.target.value)},label:"Gender",inputProps:{name:"gender",id:"outlined-gender-native-simple"}},r.a.createElement("option",{value:"FEMALE"},"Female"),r.a.createElement("option",{value:"MALE"},"Male"),r.a.createElement("option",{value:"OTHER"},"Other")))),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(p.a,{variant:"outlined",value:B,onInput:function(e){return H(e.target.value)},required:!0,fullWidth:!0,id:"dateOfBirth",label:"Date of Birth",name:"dateOfBirth",type:"date",autoComplete:"dateOfBirth"})),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(p.a,{variant:"outlined",value:j,onInput:function(e){return C(e.target.value)},required:!0,fullWidth:!0,id:"userName",label:"User Name",name:"userName",autoComplete:"userName"})),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(p.a,{variant:"outlined",value:G,onInput:function(e){return z(e.target.value)},required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password"})),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(p.a,{variant:"outlined",value:$,onInput:function(e){return ee(e.target.value)},required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword"})),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(p.a,{variant:"outlined",value:U,onInput:function(e){return L(e.target.value)},required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(p.a,{variant:"outlined",value:ve,onInput:function(e){return he(e.target.value)},required:!0,fullWidth:!0,name:"mobile",label:"Mobile No.",type:"number",id:"mobile"})),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(p.a,{variant:"outlined",value:re,onInput:function(e){return oe(e.target.value)},required:!0,fullWidth:!0,name:"address",label:"Address",type:"text",id:"address"})),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(p.a,{variant:"outlined",value:ce,onInput:function(e){return se(e.target.value)},required:!0,fullWidth:!0,name:"pinCode",label:"Pincode",type:"text",id:"pinCode"})),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(O.a,{id:"agreecondition",control:r.a.createElement(m.a,{checked:Re,onChange:function(e){we(e.target.checked)},value:"allowExtraEmails",color:"primary"}),label:"I agree to abide by all government regulation."}))),r.a.createElement(c.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Register"),r.a.createElement(i.a,{container:!0,justify:"flex-end"},r.a.createElement(i.a,{item:!0},r.a.createElement(A.b,{to:"/login",variant:"body2"},"Already have an account? Sign in")))))))};function pa(e){var t=gt(),a=Object(D.g)(),o=Object(D.i)("/upload-document/:role/:id").params,l=o.role,u=o.id,s=Object(n.useState)(null),p=Object(Oe.a)(s,2),E=p[0],g=p[1],v=Object(n.useState)(!1),h=Object(Oe.a)(v,2),y=(h[0],h[1]),j=Object(n.useState)(!1),C=Object(Oe.a)(j,2),S=C[0],T=C[1],N="Please upload the ID card to continue";function R(){return(R=Object(nt.a)(at.a.mark((function e(t){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),S){e.next=4;break}return Q("Please agree to the terms and conditions"),e.abrupt("return");case 4:if(0!=function(e){var t=e||[];return t&&t.length>0}(E)){e.next=8;break}return Q("Please Select a Document to upload"),e.abrupt("return");case 8:y(!0),se(u,E[0]).subscribe((function(e){K("Succesfully Uploaded Document, You will be notified after its approved"),a.push("/")}),(function(e){console.log("server error"),Q(e),y(!1)}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return"TESTER"===l?N="Please upload the Lab Tester ID card for account verification":"DOCTOR"===l&&(N="Please upload the Doctor ID card for account verification"),r.a.createElement(d.a,{component:"main",maxWidth:"xs"},r.a.createElement(b.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(f.a,{component:"h1",variant:"h5"},N),r.a.createElement("form",{className:t.formFullWidthOneSpace,onSubmit:function(e){return R.apply(this,arguments)},noValidate:!0},r.a.createElement(i.a,{container:!0,spacing:2},r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement("input",{type:"file",id:"fileUpdate",onChange:function(e){return g(e.target.files)}})),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(O.a,{id:"documentAgreeCondition",control:r.a.createElement(m.a,{checked:S,onChange:function(e){return T(e.target.checked)},value:"allowExtraEmails",color:"primary"}),label:"I agree that all the information provided is Genuine."}))),r.a.createElement(c.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submitWithSmallMargin},"Upload"))))}var fa=a(360),ba=a(372),Ea=a.n(ba);function ga(e){var t=gt(),a=Object(ge.c)((function(e){return e.authority})).pendingUsers;function n(e){var t=a[e],n=t.userName+"-"+t.fileName;!function(e,t){var a=Mt+e;Y.downloadFileFromServer(a,t)}(t.id,n)}var o=e.dataIndex;return r.a.createElement(_e.a,{"aria-label":"delete",className:t.marginOneSpace,onClick:function(){n(o)}},r.a.createElement(Ea.a,{fontSize:"large"}))}var va,ha=a(373),Oa=a.n(ha),ya=a(254),ja=a.n(ya);function Ca(e){return e.map((function(e){return[e.firstName,e.email,e.role]}))}var Sa=ee({thresholds:{},pendingUsers:[],pendingUserGridData:[],pendingUsersLoaded:!1},(va={},Object($.a)(va,"authority/updateThreshold",(function(e,t){return Object(k.a)(Object(k.a)({},e),{},{thresholds:t.payload})})),Object($.a)(va,"authority/updatePendingApprovals",(function(e,t){console.log("updatePendingData");var a=t.payload;return Object(k.a)(Object(k.a)({},e),{},{pendingUsersLoaded:!0,pendingUsers:a,pendingUserGridData:Ca(a)})})),va));function Ta(e){Y.get(Bt).pipe(Object(Z.a)((function(e){return Ut(e)}))).subscribe((function(t){e({type:"authority/updatePendingApprovals",payload:t})}),(function(e){Q(e)}))}function Na(e){var t=gt(),a=e.dataIndex,n=Object(ge.c)((function(e){return e.authority})).pendingUsers,o=Object(ge.b)();function l(){return(l=Object(nt.a)(at.a.mark((function e(t){var a;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n[t],e.next=3,pt("Do you want to approve "+a.userName+"?");case 3:console.log("confirmMessageService approve user"),Jt(a.id).subscribe((function(e){console.log("doApproveUser complete "),K("Successfully approved "+a.role+"  "+a.firstName),Ta(o)}),ze);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(nt.a)(at.a.mark((function e(t){var a;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n[t],e.next=3,pt("Do you want to Reject "+a.userName+"?");case 3:Yt(a.id).subscribe((function(e){K("Rejected "+a.role+"  "+a.firstName),Ta(o)}),ze);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement(_e.a,{"aria-label":"Approve",color:"primary",onClick:function(){!function(e){l.apply(this,arguments)}(a)},title:"Approve",className:t.button},r.a.createElement(Oa.a,{fontSize:"large",title:"Approve"})),r.a.createElement(_e.a,{"aria-label":"Reject",color:"secondary",onClick:function(){!function(e){i.apply(this,arguments)}(a)},title:"Reject",className:t.button},r.a.createElement(ja.a,{fontSize:"large",title:"Reject"})))}var Ra=function(){var e=gt(),t=Object(n.useState)([]),a=Object(Oe.a)(t,2),o=a[0],l=a[1],c=Object(ge.c)((function(e){return e.authority})),u=(c.pendingUsers,c.pendingUsersLoaded),s=c.pendingUserGridData,m=Object(ge.b)(),p=[{name:"S.No",options:{filter:!1,sort:!1,empty:!0,customBodyRenderLite:function(e){return r.a.createElement("strong",null,e+1)}}},{name:"Name",options:{filter:!0}},{name:"Email",options:{filter:!0}},{name:"Role",options:{filter:!0,filterType:"multiselect",customBodyRenderLite:function(e){var t=o[e][2];return r.a.createElement(fa.a,{label:t,key:t})}}},{name:"View Document",options:{filter:!1,sort:!1,empty:!0,customBodyRenderLite:function(e){return r.a.createElement(ga,{dataIndex:e})}}},{name:"Actions",options:{filter:!1,sort:!1,empty:!0,customBodyRenderLite:function(e){return r.a.createElement(Na,{dataIndex:e})}}}];return Object(n.useEffect)((function(){0==u?Ta(m):l(s)}),[s]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{maxWidth:"md",component:"main",className:e.heroContent},r.a.createElement("h1",null,"Pending Approvals"),r.a.createElement("hr",null)),r.a.createElement(d.a,{component:"main",maxWidth:"md"},r.a.createElement(i.a,{container:!0},r.a.createElement(i.a,{item:!0,md:12},r.a.createElement(ot.a,{title:"List of Users",data:o,columns:p,options:{filter:!0,filterType:"dropdown",responsive:"standard",selectableRows:"none"}})))))},wa=a(592),xa=Object(Nt.a)((function(e){return{root:{height:10,borderRadius:5},colorPrimary:{backgroundColor:e.palette.grey["light"===e.palette.type?200:700]},bar:{borderRadius:5,backgroundColor:"#1a90ff"}}}))(wa.a),Aa=function(e){Object(ta.a)(a,e);var t=Object(aa.a)(a);function a(e){var n;return Object($t.a)(this,a),(n=t.call(this,e)).state={showLoading:!1},n}return Object(ea.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.subscription=V().subscribe((function(t){e.setState({showLoading:t})}))}},{key:"componentWillUnmount",value:function(){this.subscription.unsubscribe()}},{key:"render",value:function(){var e=this.state.showLoading;return r.a.createElement(n.Fragment,null,e&&r.a.createElement("div",{className:"progress-container"},r.a.createElement(xa,null)))}}]),a}(n.Component),Da=a(586),ka=a(587),Pa=a(588),Ia=a(589),Wa=a(590),Ua=a(374),La=a.n(Ua);function qa(e){return r.a.createElement(La.a,{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]'},r.a.createElement(R.a,e))}var _a=function(e){Object(ta.a)(a,e);var t=Object(aa.a)(a);function a(e){var n;return Object($t.a)(this,a),(n=t.call(this,e)).classes=null,n.state={show:!1,message:"",acceptCallback:null,rejectCallback:null},n}return Object(ea.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.subscription=ft().subscribe((function(t){e.onConfirmationReceived(t)}))}},{key:"onConfirmationReceived",value:function(e){this.setState({show:!0,acceptCallback:e.accept,rejectCallback:e.reject,message:e.message})}},{key:"componentWillUnmount",value:function(){this.subscription.unsubscribe()}},{key:"reset",value:function(){this.setState({show:!1,acceptCallback:null,rejectCallback:null,message:""})}},{key:"handleCancel",value:function(){this.reset()}},{key:"handleSuccess",value:function(){var e=this.state.acceptCallback;e&&e(),this.reset()}},{key:"render",value:function(){var e=this,t=this.state,a=t.show,o=(t.acceptCallback,t.message);t.rejectCallback;return r.a.createElement(n.Fragment,null,1==a&&r.a.createElement("div",{className:"confirm-message-container "},r.a.createElement("div",{className:"confirm-message-inner-container"},r.a.createElement("div",null,r.a.createElement(Da.a,{id:"dlgconfirm",className:"confirm-dialog-box",open:a,onClose:function(){e.handleCancel()},PaperComponent:qa,"aria-labelledby":"draggable-dialog-title"},r.a.createElement(Wa.a,{style:{cursor:"move"},id:"draggable-dialog-title"},"Confirm"),r.a.createElement(Pa.a,null,r.a.createElement(Ia.a,null,o)),r.a.createElement(ka.a,null,r.a.createElement(c.a,{id:"btnCancel",autoFocus:!0,onClick:function(){e.handleCancel()},color:"secondary"},"Cancel"),r.a.createElement(c.a,{id:"btnConfirm",onClick:function(){e.handleSuccess()},color:"primary"},"Ok")))))))}}]),a}(n.Component);var Fa=function(){var e=gt(),t=Object(D.g)(),a=(Object(ge.b)(),Object(n.useState)([])),o=Object(Oe.a)(a,2),l=o[0],u=o[1],s=Object(n.useState)([]),m=Object(Oe.a)(s,2),p=m[0],f=m[1],b=[{name:"Request ID",options:{filter:!0}},{name:"Name",options:{filter:!0}},{name:"Age",options:{filter:!0}},{name:"Status",options:{filter:!0}},{name:"Actions",options:{filter:!1,sort:!1,empty:!0,customBodyRenderLite:function(t){return r.a.createElement(c.a,{variant:"contained",color:"secondary",className:e.button,startIcon:r.a.createElement(Et.a,null),onClick:function(){!function(e){E.apply(this,arguments)}(t)}},"Assign to Me")}}}];function E(){return(E=Object(nt.a)(at.a.mark((function e(a){var n;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p[a],e.next=3,pt("Do you want to Assign yourself for testing "+n.name+"?");case 3:Ne(n.requestId).subscribe((function(e){K("Request Assigned to you, Please Goto "+n.address+" and  update the details."),t.push("/update-lab-report/"+n.requestId)}),ze);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){Y.get(je).subscribe((function(e){console.log("pendingTests",e),f(e);var t=e.map((function(e){return[e.requestId,e.name,e.age,e.status]}));[].push(t),u(t)}),ze)}return Object(n.useEffect)((function(){g()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{maxWidth:"md",component:"main",className:e.heroContent},r.a.createElement("h1",null,"Pending Tests"),r.a.createElement("hr",null)),r.a.createElement(d.a,{component:"main",maxWidth:"md"},r.a.createElement(i.a,{container:!0},r.a.createElement(i.a,{item:!0,md:12},r.a.createElement(ot.a,{title:"Pending Tests",data:l,columns:b,options:{filter:!0,filterType:"dropdown",responsive:"standard",selectableRows:"none"}})))))};var Ba=function(){var e=gt(),t=Object(D.g)(),a=Object(n.useState)([]),o=Object(Oe.a)(a,2),l=o[0],i=o[1];function u(){return(u=Object(nt.a)(at.a.mark((function e(a){var n;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l[a],console.log(n),t.push("/update-lab-report/"+n.requestId);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var s=[{name:"Actions",options:{filter:!1,sort:!1,empty:!0,customBodyRenderLite:function(t){var a=l[t];return a&&a.status&&"LAB_TEST_IN_PROGRESS"==a.status?r.a.createElement("div",null,r.a.createElement(c.a,{onClick:function(){!function(e){u.apply(this,arguments)}(t)},color:"secondary",variant:"outlined",className:e.link},"Update")):r.a.createElement(n.Fragment,null)}}}];return r.a.createElement(It,{actionColumns:s,getMyHistory:Te,onDataLoaded:function(e){i(e)}})};var Ha=function(){var e=gt(),t=Object(D.g)(),a=Object(n.useState)([]),o=Object(Oe.a)(a,2),l=o[0],i=o[1];function u(){return(u=Object(nt.a)(at.a.mark((function e(a){var n;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l[a],t.push("/update-consultation/"+n.requestId);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var s=[{name:"Actions",options:{filter:!1,sort:!1,empty:!0,customBodyRenderLite:function(t){var a=l[t];return a&&a.status&&"DIAGNOSIS_IN_PROCESS"==a.status?r.a.createElement("div",null,r.a.createElement(c.a,{onClick:function(){!function(e){u.apply(this,arguments)}(t)},color:"secondary",variant:"outlined",className:e.link},"Update")):r.a.createElement(n.Fragment,null)}}}];return r.a.createElement(It,{actionColumns:s,getMyHistory:st,onDataLoaded:function(e){i(e)}})},Ma=Object(y.a)((function(e){return{heroContent:{padding:e.spacing(3,0,2)}}}));var Va=function(){var e=Ma(),t=Object(ge.c)((function(e){return e.auth})).user,a=[{label:"First Name",value:t.firstName},{label:"Email",value:t.email},{label:"Role",value:t.role}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{maxWidth:"md",component:"main",className:e.heroContent},r.a.createElement("h1",null,"Hi ","doctor"===t.userRole?"Dr.":null," ",t.firstName,", your  Profile Details"),r.a.createElement("hr",null)),r.a.createElement(d.a,{maxWidth:"md"},r.a.createElement(i.a,{justify:"center",container:!0},r.a.createElement(i.a,{md:8,item:!0},r.a.createElement(T.a,{component:R.a},r.a.createElement(j.a,{className:e.table,"aria-label":"simple table"},r.a.createElement(C.a,null,a.map((function(e,t){return r.a.createElement(N.a,{key:t},r.a.createElement(S.a,{align:"left"},r.a.createElement("strong",null,e.label)),r.a.createElement(S.a,{align:"left"},e.value))})))))))))},Ga=Object(y.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},select100:{width:"100%"},select100Form:{width:"100%"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var Ka=function(){var e=Ga(),t=Object(D.g)(),a=Object(n.useState)(!1),o=Object(Oe.a)(a,2),l=o[0],u=o[1],s=Object(n.useState)(""),m=Object(Oe.a)(s,2),b=m[0],E=m[1],g=Object(n.useState)(""),h=Object(Oe.a)(g,2),O=h[0],y=h[1],j=Object(n.useState)(""),C=Object(Oe.a)(j,2),S=C[0],T=C[1],N=Object(n.useState)(""),R=Object(Oe.a)(N,2),w=R[0],x=R[1],A=Object(n.useState)(""),k=Object(Oe.a)(A,2),P=k[0],I=k[1],W=Object(n.useState)(!1),U=Object(Oe.a)(W,2),L=(U[0],U[1]),q=Object(n.useState)(""),_=Object(Oe.a)(q,2),F=_[0],B=_[1],H=Object(n.useState)(""),M=Object(Oe.a)(H,2),V=M[0],G=M[1],Q=Object(n.useState)(!1),z=Object(Oe.a)(Q,2),J=(z[0],z[1],Object(ge.c)((function(e){return e.auth})).user);return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:e.paper},r.a.createElement(f.a,{component:"h1",variant:"h5"},"Request For Test",r.a.createElement("hr",null)),r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault();var a,n={name:b,gender:P,address:O,age:S,email:w,phoneNumber:F,pinCode:V};console.log(n),(a=n,Y.post(Re,a)).subscribe((function(e){console.log("doCreateTestRequest",e),K("Test Request Created"),t.push("/user-history")}),ze)},noValidate:!0},r.a.createElement(i.a,{container:!0,spacing:2},r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(v.a,{variant:"outlined",className:e.select100Form},r.a.createElement(ke.a,{htmlFor:"outlined-testfor-native-simple"},"Test For"),r.a.createElement(Pe.a,{native:!0,value:l,onChange:function(e){return function(){var e=!l;u(e),e&&(console.log(J),E(J.firstName),y(J.address),T(J.age),x(J.email),I(J.gender),B(J.phoneNumber),G(J.pinCode),L(!0))}()},label:"Test For",className:e.select100,inputProps:{name:"testfor",id:"select-test-for-me"}},r.a.createElement("option",{value:"true"},"Myself"),r.a.createElement("option",{value:"false"},"Other")))),r.a.createElement(i.a,{item:!0,xs:12,sm:6},r.a.createElement(p.a,{variant:"outlined",value:b,onInput:function(e){return E(e.target.value)},required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name"})),r.a.createElement(i.a,{item:!0,xs:12,sm:6},r.a.createElement(v.a,{variant:"outlined",className:e.select100Form},r.a.createElement(ke.a,{htmlFor:"outlined-gender-native-simple"},"Gender"),r.a.createElement(Pe.a,{className:e.select100,native:!0,value:P,onChange:function(e){return I(e.target.value)},label:"Gender",inputProps:{name:"gender",id:"select-gender"}},r.a.createElement("option",{value:"FEMALE"},"Female"),r.a.createElement("option",{value:"MALE"},"Male"),r.a.createElement("option",{value:"OTHER"},"Other")))),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(p.a,{variant:"outlined",value:S,onInput:function(e){return T(e.target.value)},required:!0,fullWidth:!0,name:"age",label:"age",type:"number",id:"age"})),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(p.a,{variant:"outlined",value:w,onInput:function(e){return x(e.target.value)},required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(p.a,{variant:"outlined",value:F,onInput:function(e){return B(e.target.value)},required:!0,fullWidth:!0,name:"mobile",label:"Mobile No.",type:"number",id:"mobile"})),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(p.a,{variant:"outlined",value:O,onInput:function(e){return y(e.target.value)},required:!0,fullWidth:!0,name:"address",label:"Address",type:"text",id:"address"})),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(p.a,{variant:"outlined",value:V,onInput:function(e){return G(e.target.value)},required:!0,fullWidth:!0,name:"pinCode",label:"pinCode",type:"text",id:"pinCode"}))),r.a.createElement(c.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Create Test Request")))))},Qa=Object(y.a)((function(e){return{paper:{marginTop:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var za=function(e){var t=Qa(),a=Object(D.g)(),o=Object(ge.b)(),l=Object(n.useState)(""),u=Object(Oe.a)(l,2),s=u[0],m=u[1],E=Object(n.useState)(""),g=Object(Oe.a)(E,2),v=g[0],h=g[1];function O(){return(O=Object(nt.a)(at.a.mark((function e(t){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log("userName",s),q.baseUrl+"/auth/login",ue({userName:s,password:v}).subscribe((function(e){e.user,e.token;o({type:ne,payload:e}),a.push("/profile")}),(function(e){Q(e)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(d.a,{component:"main",maxWidth:"xs"},r.a.createElement(b.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(f.a,{component:"h1",variant:"h5"},"Login in"),r.a.createElement("form",{className:t.form,onSubmit:function(e){return O.apply(this,arguments)},noValidate:!0},r.a.createElement(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"userName",label:"User Name",name:"userName",autoComplete:"userName",autoFocus:!0,value:s,onInput:function(e){m(e.target.value)}}),r.a.createElement(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:v,onInput:function(e){return h(e.target.value)}}),r.a.createElement(c.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:t.submit},"Sign In"),r.a.createElement(i.a,{container:!0},r.a.createElement(i.a,{item:!0,xs:!0}),r.a.createElement(i.a,{item:!0},r.a.createElement(A.b,{href:"#",to:"/register",variant:"body2"},"Don't have an account? Sign Up"))))))},Ja=(a(453),a(158));function Ya(e,t){return e.map((function(e){return e[t]})).reduce((function(e,t){return e+t}))}var Xa={tooltips:{mode:"index",intersect:!1},responsive:!0,plugins:{datalabels:{color:"#ffffff"}}},Za={tooltips:{mode:"index",intersect:!1},responsive:!0,plugins:{datalabels:{display:!1,color:"#ffffff"}},scales:{xAxes:[{stacked:!0,scaleLabel:{display:!0,labelString:"Pincode"}}],yAxes:[{stacked:!0,scaleLabel:{display:!0,labelString:"Count"}}]}};var $a=function(){var e=gt(),t=Object(n.useState)({}),a=Object(Oe.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)({}),u=Object(Oe.a)(c,2),s=u[0],m=u[1],p=Object(n.useState)({}),b=Object(Oe.a)(p,2),E=b[0],g=b[1],v=Object(n.useState)({}),h=Object(Oe.a)(v,2),O=h[0],y=h[1];return Object(n.useEffect)((function(){Gt().pipe(Object(X.a)((function(e){return Qt(e)}))).subscribe((function(e){var t;l({labels:["Positive","Negative"],datasets:[{data:[Ya(t=e,"positiveCount"),Ya(t,"negativeCount")],backgroundColor:["#ee2a3e","#005100"],hoverBackgroundColor:["#ee2a3e","#005151"]}]}),m(function(e){console.log("pinCodes",e);var t=Ya(e,"homeQuarantineCount");return{labels:["Admission","Home Quarantine"],datasets:[{data:[Ya(e,"admittedCount"),t],backgroundColor:["#ee2a3e","#005100"],hoverBackgroundColor:["#ee2a3e","#005151"]}]}}(e)),g(function(e){var t=e.map((function(e){return e.pinCode})),a=e.map((function(e){return e.positiveCount}));return{labels:t,datasets:[{label:"Negative",backgroundColor:"#005100",data:e.map((function(e){return e.negativeCount}))},{label:"Positive",backgroundColor:"#ee2a3e",data:a}]}}(e)),y(function(e){var t=e.map((function(e){return e.pinCode})),a=e.map((function(e){return e.homeQuarantineCount}));return{labels:t,datasets:[{label:"Admitted",backgroundColor:"#ee2a3e",data:e.map((function(e){return e.admittedCount}))},{label:"Home Quarantine",backgroundColor:"#005100",data:a}]}}(e))}),(function(e){Q(e)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{component:"main",className:e.mt40},r.a.createElement(i.a,{container:!0,spacing:2,className:e.paperWhite},r.a.createElement(f.a,{component:"h1",variant:"h5"},"Dashboard",r.a.createElement("hr",null)),r.a.createElement(i.a,{container:!0,spacing:2,className:e.formContainer},r.a.createElement(i.a,{item:!0,xs:6},r.a.createElement("div",null,r.a.createElement("h2",null,"Test Positive/Negative Distribution"),r.a.createElement(Ja.Doughnut,{data:o,options:Xa}))),r.a.createElement(i.a,{item:!0,xs:6},r.a.createElement("h2",null,"Test Home Quarantine/Admission  Distribution"),r.a.createElement(Ja.Doughnut,{data:s,options:Xa}))),r.a.createElement(i.a,{container:!0,spacing:2,className:e.formContainer},r.a.createElement(i.a,{item:!0,xs:6},r.a.createElement("h2",null,"Test Positive/Negative - Pincode based   Distribution"),r.a.createElement(Ja.Bar,{data:E,options:Za})),r.a.createElement(i.a,{item:!0,xs:6},r.a.createElement("h2",null," Home Quarantine/Admission - Pincode based   Distribution"),r.a.createElement(Ja.Bar,{data:O,options:Za}))))))},en=Object(y.a)((function(e){return{"@global":{body:{backgroundColor:"#e6e6e6"},footer:{marginTop:"calc(5% + 60px)",bottom:0}},footer:{marginTop:"calc(5% + 60px)",bottom:0}}}));var tn=function(){en();var e=Object(ge.c)((function(e){return e.auth})),t=e.user,a=e.token,o=e.isLoggedIn,l=e.roles,i=l.isUser,c=l.isDoctor,u=l.isAuthority,s=l.isTester,m=(l.isApproved,"/login");return o&&(m="/profile"),Object(n.useEffect)((function(){a&&t&&pe(a)}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Aa,null),r.a.createElement(Ee,null),r.a.createElement(_a,null),r.a.createElement(D.d,null,r.a.createElement(D.b,{path:"/login"},r.a.createElement(za,null)),r.a.createElement(D.b,{path:"/register"},r.a.createElement(da,null)),r.a.createElement(D.b,{path:"/upload-document/:role/:id"},r.a.createElement(pa,null)),r.a.createElement(he,{path:"/profile",component:Va,auth:o}),r.a.createElement(he,{path:"/request-test",component:Ka,auth:i}),r.a.createElement(he,{path:"/user-history",component:Wt,auth:i}),r.a.createElement(he,{path:"/lab-history",component:Ba,auth:s}),r.a.createElement(he,{path:"/pending-lab-tests",component:Fa,auth:s}),r.a.createElement(he,{path:"/update-lab-report/:id",component:et,auth:s}),r.a.createElement(he,{path:"/consultation-history",component:Ha,auth:c}),r.a.createElement(he,{path:"/pending-consultations",component:vt,auth:c}),r.a.createElement(he,{path:"/update-consultation/:id",component:St,auth:c}),r.a.createElement(he,{path:"/update-thresholds",component:Xt,auth:u}),r.a.createElement(he,{path:"/pending-user-approvals",component:Ra,auth:u}),r.a.createElement(he,{path:"/view-all-requests",component:Zt,auth:u}),r.a.createElement(he,{path:"/dashboard",component:$a,auth:u}),r.a.createElement(D.b,{path:"/"},r.a.createElement(D.a,{to:m}))),r.a.createElement(ca,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var an=a(375),nn=a(55),rn=a(376),on=a(377),ln=a(378),cn=a.n(ln),un=Object(nn.c)({auth:le,authority:Sa}),sn=a(379),mn=a.n(sn),dn={key:"root",storage:cn.a,stateReconciler:mn.a},pn=Object(ae.b)(dn,(function(e,t){var a="auth/logout"===t.type?void 0:Object(k.a)({},e);return un(a,t)})),fn=[rn.a,on.logger],bn=nn.a.apply(void 0,fn),En=Object(nn.d)(pn,bn),gn=Object(ae.c)(En);function vn(e){return r.a.createElement("div",null,"Loading..")}l.a.render(r.a.createElement(ge.a,{store:En},r.a.createElement(an.a,{loading:r.a.createElement(vn,null),persistor:gn},r.a.createElement(b.a,null),r.a.createElement(A.a,null,r.a.createElement(tn,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[399,1,2]]]);